<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eric Rauchway">
<meta name="dcterms.date" content="2025-06-11">

<title>AHA Congressional Briefing: History of Tariffs – a necessitous blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-7ac5b228a3bc26576d871d5d6ca29a78.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-2a1f1354e5a75be6c54cc8e87de18510.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">a necessitous blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://bsky.app/profile/rauchway.bsky.social"> <i class="bi bi-cloud-sun" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://htmlpreview.github.io/?https://github.com/erauchway/cv_pub/blob/main/rauchway_cv.html"> 
<span class="menu-text">My c.v.</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">AHA Congressional Briefing: History of Tariffs</h1>
            <p class="subtitle lead">Remarks on the origins of presidential tariff authority</p>
                                <div class="quarto-categories">
                <div class="quarto-category">Historiography</div>
                <div class="quarto-category">Tariffs</div>
                <div class="quarto-category">New Deal</div>
                <div class="quarto-category">Reciprocal Tariff Agreements Act of 1934</div>
                <div class="quarto-category">Smoot-Hawley</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Eric Rauchway </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 11, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>The AHA hosted a Congressional briefing this morning in the Rayburn office building with about 70 people in attendance and a panel including Douglas Irwin, Sharon Ann Murphy, and me. C-SPAN filmed it for later broadcast. My remarks as prepared appear below, though if you should someday watch the C-SPAN recording you’ll know I went off script, based on what Doug had already said.</p>
<hr>
<p>Good morning. I’m going to speak for a few minutes on the origins of presidential authority to make tariff deals with other countries in the Reciprocal Trade Agreements Act of 1934.</p>
<p>Franklin Roosevelt first ran for president in 1932 arguing for lower tariffs as part of the New Deal by saying the <strong>“outrageously excessive [tariff] rates . . . must come down. . . . by consenting to reduce . . . some of our duties in order to secure a lowering of foreign tariff walls.”<span class="citation" data-cites="roosevelt1932-09-29"><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></span></strong> The idea was to reduce tariffs in exchange for other countries’ doing likewise, so as to open overseas markets for US goods. This is the trade principle known as reciprocity. Opinion polls demonstrate that Roosevelt supporters expected him to reduce tariffs.<span class="citation" data-cites="norpothAmericanVoter19322019"><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></span> Herbert Hoover vigorously opposed reducing tariffs and warned that if it happened, <strong>“The grass will grow in [the] streets of a hundred cities, a thousand towns.”<span class="citation" data-cites="hoover1977"><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></span></strong> Roosevelt won the election and the right to reduce tariffs; his inaugural parade included a group of men with lawnmowers marching through the streets of Washington, DC.<span class="citation" data-cites="rauchwayWinterWarHoover2018"><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></span> Once in office, he acquired the power negotiate lower tariffs on a reciprocal basis.</p>
<p>To fulfill Roosevelt’s campaign promise, the Reciprocal Tariff Agreement Act of 1934 amended the Smoot-Hawley Tariff Act of 1930 to allow the president to make trade agreements with foreign countries <strong>“so that foreign markets will be made available.”</strong> The law aimed at <strong>“increasing the purchasing power of the American public”</strong> and <strong>“restoring the American standard of living.”<span class="citation" data-cites="ActAmendTariff1934-06-12"><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></span></strong> It enacted the idea of reciprocity; the US and another country would each agree to lower rates to improve trade between the two. It incorporated an idea of gradualism—in no case could the reduction in rate be more than fifty percent of the Smoot-Hawley rate.<span class="citation" data-cites="tasca1938"><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></span> And although it described bilateral agreements, when those agreements included most-favored-nation clauses—which was language ensuring that any nation signing an agreement would gain any advantage later secured by any other nation signing an agreement—the Roosevelt administration acquired the means to gradually liberalize trade with many parties.<span class="citation" data-cites="allen1953-03"><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></span> Within three years the administration negotiated sixteen agreements and more would soon follow, increasing trade among participating countries.<span class="citation" data-cites="tasca1938"><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></span></p>
<p>I want to focus now on the mechanism for reducing tariffs, and for reducing them gradually, which was as important as the general aim of lower tariffs.</p>
<p>Let me talk first about gradualism. Roosevelt appreciated the need for a gentle shift away from protectionism. As he said privately, protectionism might be <strong>“all right today”</strong> but he opposed it <strong>“as a long-term policy,”</strong> saying, <strong>“in the long run it would work against us and our world trade and our industry.”<span class="citation" data-cites="rauchwayWinterWarHoover2018"><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></span></strong> He had similar views about monetary policy; he wanted to devalue the dollar gradually.<span class="citation" data-cites="rauchwayMoneyMakersHow2015"><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></span> In both cases he knew he wanted to make an ultimately dramatic change in the cost of doing business but he wanted to make it without too much disruption to business plans then in effect. So gradualism was the order of the day.</p>
<p>Second, as to the mechanism: the Reciprocal Trade Agreements Act delegated tariff power to the president, who would strike deals with other countries. The point of delegating this power to the president was to lower tariffs. By 1934 it was clear Congress had great difficulty doing so.<span class="citation" data-cites="tasca1938"><a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></span></p>
<p>When Congress made tariffs, as both William McKinley and Herbert Hoover found to their disappointment, lawmaking quickly became an exercise in log-rolling—you vote for a tariff increase protecting industry in my district; I’ll vote for a tariff increase protecting industry in your district.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./trade2.drawio.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Click to enlarge; diagram after Tasca, 55."><img src="./trade2.drawio.png" class="img-fluid figure-img" width="250" alt="Click to enlarge; diagram after Tasca, 55."></a></p>
<figcaption>Click to enlarge; diagram after Tasca, 55.</figcaption>
</figure>
</div>
<p>Log-rolling tended generally to produce higher rates, as every lawmaker looked to get protection for his district. The tariff became a mechanism for providing constituent service and patronage—a domestic, rather than an international, policy, even though it worked by affecting international trade.</p>
<p>By the time of Smoot-Hawley, protectionist lawmakers described log-rolling not as an unfortunate side effect but as an essential feature of tariff-making. As Reed Smoot said, <strong>“the tariff is a domestic matter, and an American tariff must be framed and put into force by the American Congress and administration. No foreign country has a right to interfere.”<span class="citation" data-cites="lake1988"><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></span></strong></p>
<p>The reciprocal mechanism begun in 1934 let the president reach agreements with foreign countries—much against what Smoot said—and let him do so in broad consultation with various experts throughout the executive branch.</p>
<p>The handout has an organization chart of the trade agreements mechanism set up under the Roosevelt administration.<span class="citation" data-cites="tasca1938"><a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a></span> As you can see, there are some state department committees, and many more interdepartmental committees—including representatives from commerce, agriculture, treasury, and so on.</p>
<p>This broad range of committees served not only to get input from a variety of sources—thus ensuring everyone got heard—but also to diffuse, and actually to obscure, the process by which a decision got made. A politician or business representative might look at this chart and say to himself, well, this is a nightmare; I don’t know who to lobby—and that’s exactly the point. There were lots of people you could talk to but shy of the president himself, you didn’t know who’s making decisions. And even if you did have access to the president, having this elaborate mechanism allowed the president to say, well, you know, I have multiple, carefully composed expert recommendations; I can’t very well go against them.<span class="citation" data-cites="tasca1938"><a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a></span> So these economic experts could toil away, untroubled by influence, and recommend action to the president. John Maynard Keynes famously hoped that economics would one day become as dull as dentistry; he meant this as a compliment to his future profession—that it would become boringly professional, rather than heated and political.<span class="citation" data-cites="keynes1933"><a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></span> The Reciprocal Trade Agreements Act (like, as it happens, much of the New Deal) embodied this view.</p>
<p>This emphasis on gradual movement, international agreement, and a mechanism centered in the executive but informed by an array of expert advisors had the intended effect of reaching generally lower tariffs and increasing world trade. By the end of the Roosevelt administration in 1945, twenty-eight agreements were in place and the fifty percent limit in rate reductions had been nearly reached. Congress then extended the authority and allowed another fifty percent reduction.<span class="citation" data-cites="goldstein1993"><a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></span></p>
<p>Having the president make international agreements shielded legislators from having to vote for a tariff reduction. And it allowed them to reap the benefits of increased exports from their district. It allowed lower rates and increased global trade. Moreover, the real and widespread benefits to the US economy of increased exports helped forge a bipartisan consensus on free trade.<span class="citation" data-cites="bailey1997-04 haggard1988 lowi1964-07"><a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a></span></p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Franklin D. Roosevelt, <span>“Sioux City, IA—Campaign Address,”</span> September 29, 1932, 17, Master Speech File, FDRL.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Helmut Norpoth, <span>“The American Voter in 1932: Evidence from a Confidential Survey,”</span> <em>PS</em> 52, no. 1 (January 2019): 17.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Herbert Hoover, <span>“Address at Madison Square Garden,”</span> in <em>Public Papers of the Presidents of the United States</em>, <em>Herbert Hoover, 1932–1933</em> (Washington, DC: Government Printing Office, 1977), 669.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Eric Rauchway, <em>Winter War: Hoover, Roosevelt, and the First Clash Over the New Deal</em> (New York: Basic Books, 2018), 233.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><span>“An Act to Amend the Tariff Act of 1930,”</span> Pub. L. No. 316, § 350, 48 US Statutes at Large 943 (1934).<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>This was the first measure allowing for presidential negotiation with another country to mutual benefit; the Smoot-Hawley Tariff had previously allowed for what Henry Tasca called “the penalty type of tariff bargaining,” allowing the president to impose punitive tariffs on a country discriminating against the United States. <em>The Reciprocal Trade Policy of the United States: A Study in Trade Philosophy</em> (Philadelphia: University of Pennsylvania Press, 1938), 41.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>William R. Allen, <span>“The International Trade Philosophy of Cordell Hull, 1907–1933,”</span> <em>American Economic Review</em> 43, no. 1 (March 1953): 114.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Tasca, <em>Reciprocal Trade Policy</em>, 266, 271.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Roosevelt was speaking here to Hearst emissary Ed Coblentz in January 1933. Rauchway, <em>Winter War</em>, 176.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>Eric Rauchway, <em>The Money Makers: How Roosevelt and Keynes Ended the Depression, Defeated Fascism, and Secured a Prosperous Peace</em> (New York: Basic Books, 2015), 82.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>Tasca finds only three of 21 previous efforts to negotiate reciprocal treaties, which required Senate approval, succeeded. <em>Reciprocal Trade Policy</em>, 43.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>David A. Lake, <em>Power, Protection, and Free Trade: International Sources of U.S. Commercial Strategy, 1887–1939</em> (Ithaca: Cornell University Press, 1988), 192.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>The diagram is derived from one in Tasca, <em>Reciprocal Trade Policy</em>, 55.<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>For an indication that this effect was intended, see the discussion in Tasca, <em>Reciprocal Trade Policy</em>, 50–66, including the observation that the membership of many committees was not publicized.<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>John Maynard Keynes, <em>Essays in Persuasion</em> (London: Macmillan and Co., Limited, 1933), 373.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>Judith Goldstein, <em>Ideas, Interests, and American Trade Policy</em> (Ithaca: Cornell University Press, 1993), 162–64.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17"><p>Michael A. Bailey, Judith Goldstein, and Barry R. Weingast, <span>“The Instititonal Roots of American Trade Policy: Politics, Coalitions, and International Trade,”</span> <em>World Politics</em> 49, no. 3 (April 1997): 309–38; Stephan Haggard, <span>“The Institutional Foundations of Hegemony: Explaining the Reciprocal Trade Agreements Act of 1934,”</span> <em>International Organization</em> 42, no. 1 (Winter 1988): 91–119; Theodore J. Lowi, <span>“American Business, Public Policy, Case-Studies, and Political Theory,”</span> <em>World Politics</em> 16, no. 4 (July 1964): 677–93.<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/erauchway\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<script src="https://utteranc.es/client.js" repo="erauchway/blogComments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>