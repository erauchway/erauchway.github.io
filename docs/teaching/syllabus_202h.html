<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eric Rauchway">
<meta name="dcterms.date" content="2023-07-24">

<title>Syllabus for HIS 202H</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="syllabus_202h_files/libs/clipboard/clipboard.min.js"></script>
<script src="syllabus_202h_files/libs/quarto-html/quarto.js"></script>
<script src="syllabus_202h_files/libs/quarto-html/popper.min.js"></script>
<script src="syllabus_202h_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="syllabus_202h_files/libs/quarto-html/anchor.min.js"></script>
<link href="syllabus_202h_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="syllabus_202h_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="syllabus_202h_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="syllabus_202h_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="syllabus_202h_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="syllabus_202h.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus for HIS 202H</h1>
<p class="subtitle lead">Graduate seminar in c20 US history, Fall 2023</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Eric Rauchway </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Department of History, University of California, Davis
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1 page-columns page-full">
<h1>Introduction</h1>
<div class="page-columns page-full"><p>This course provides an introduction to some basic themes and literature of twentieth-century US history. Course aims include the standard graduate seminar goals of developing participants’ ability to analyze and criticize arguments, including especially an understanding of sources and methods; also the more practical goal of learning how to present such analysis and critique to best effect. You should finish the seminar with a reasonably good foundation for further reading for your comprehensive examinations, and also for constructing a survey course in twentieth-century US history.</p><div class="no-row-height column-margin column-container"><span class="">Please note the date of the version of the syllabus you are reading; if it is before the start of the term it is quite likely there is a more recent version available.</span></div></div>
<p>This seminar meets weekly on Monday afternoon, 3:10–6:00 p.m., in Social Sciences room 4217.</p>
</section>
<section id="course-calendar" class="level1 page-columns page-full">
<h1>Course calendar</h1>
<div class="page-columns page-full"><p>You should ensure you have access to the required reading (please see the list below) and that you have read it thoroughly prior to the class meeting for which it is assigned in this calendar. You should come to class prepared to discuss the authors’ arguments, sources, and methods of analysis and presentation, and in seminar you should pose questions and propose answers and otherwise participate actively. You should complete work as assigned. </p><div class="no-row-height column-margin column-container"><span class="">If you do not already have a short shelf of texts on how to write, and specifically how to write history, you might begin to accumulate one before this course starts. Style guides include the old classics, like Strunk &amp; White, <em>The Elements of Style,</em> as well as <em>Dreyer’s English,</em> a recently published instant classic. On the conduct of history you might begin with Bloch, <em>The Historian’s Craft.</em></span></div></div>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Date</th>
<th style="text-align: left;">Assignment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">October 2</td>
<td style="text-align: left;"><em>Immigration, ethnicity, and the state in the 1920s.</em> Read McGirr; Kraut, chapter 4; Sweet. Write a review of McGirr appropriate for an academic journal of history. Consult the review section of recent issues of the <em>Journal of American History</em> or the <em>American Historical Review</em> to get a sense of what a such a review might sound like. These journals are often quite strict about word limits, so for this assignment please assume that your review can run a maximum of 500 words. Please format the description of the book and your byline as appropriate for the journal.</td>
</tr>
<tr class="even">
<td style="text-align: left;">October 9</td>
<td style="text-align: left;"><em>The New Deal: politics &amp; policy.</em> Read Rauchway; Morgan; Leuchtenburg; Davies on 1940; Hannsgen &amp; Papadimitriou; Hausman, Rhode, &amp; Wieland; Williams.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">October 16</td>
<td style="text-align: left;"><em>Black Voters &amp; the New Deal Coalition.</em> Read Grant; Thurston. Write a review essay considering these books together. Look at some essays in <em>Reviews in American History</em> or the <em>Times Literary Supplement</em> to familiarize yourself with this genre. Reviewers often begin by setting out an appropriate theme that unites the books under review in a way accessible to non-readers, then discuss how each of a few books address that theme. In an essay of 2,000 words, please do the same for these two books. Format the essay as would be appropriate for <em>Reviews in American History.</em></td>
</tr>
<tr class="even">
<td style="text-align: left;">October 23</td>
<td style="text-align: left;"><em>Mobilization for war.</em> Read Wilson; Guglielmo; Katznelson, Geiger, &amp; Kryder.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">October 30</td>
<td style="text-align: left;"><em>End of war.</em> Read Gallicchio; Asada; Bernstein; Hasegawa &amp; Asada.</td>
</tr>
<tr class="even">
<td style="text-align: left;">November 6</td>
<td style="text-align: left;"><em>McCarthyism.</em> Read D. Johnson; Schrecker; Olmsted.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">November 13</td>
<td style="text-align: left;"><em>Civil rights.</em> Read K. Johnson; Cha-Jua &amp; Lang; Schickler.</td>
</tr>
<tr class="even">
<td style="text-align: left;">November 20</td>
<td style="text-align: left;"><em>The 1960s and 1970s.</em> Read MacKenzie &amp; Weisbrot; also forum on the 1970s: Tuck, introduction; Davies on conservatism; Tuck on Black protest; Hall; Zeitz; Jacobs &amp; Zelizer; Schulman.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">November 27</td>
<td style="text-align: left;"><em>Conservatism &amp; beyond.</em> Read Belew; Zelizer; Perlstein. Write a review of the Belew book in the style of a newspaper book review. Consult the <em>New York Times Book Review</em> or <em>Washington Post Book World</em> for a sense of what such a review might look and sound like. Consider that you are writing as a scholar with expertise in the field, while addressing a general, educated audience with an interested in the subject. Take into account that your editor will almost certainly want you to address the relationship of the book to current events. Your review should run about 1,500 words.</td>
</tr>
<tr class="even">
<td style="text-align: left;">December 4</td>
<td style="text-align: left;"><em>Americans &amp; others.</em> Read Lee; Serwer.</td>
</tr>
</tbody>
</table>
<div class="no-row-height column-margin column-container"><span class="">You might note that I have assigned a couple of articles by scholars from this department. As a general rule you should familiarize yourself more broadly with the scholarship of professors in the department where you are studying for your PhD, if for no other reason than that it will serve you well in preparing for your comprehensive examinations to know your examiners’ opinion of the field.</span></div></div>
</div>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">Links appear in this list for readings that can be found only online. All readings have been registered with the campus bookstore and with library reserves as of the end of July. Beyond that, it is up to you—and this is part of the practical training of the course—to acquire the readings in a timely fashion. You will find you can get all of them using resources available as of this writing.</span></div></div>
</section>
<section id="bibliography" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">Reading list</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-asadaShockAtomicBomb1998" class="csl-entry" role="listitem">
Asada, Sadao. <span>“The Shock of the Atomic Bomb and Japan’s Decision to Surrender: A Reconsideration.”</span> <em>Pacific Historical Review</em> 67, no. 4 (November 1998): 477--512.
</div>
<div id="ref-belewBringWarHome2018" class="csl-entry" role="listitem">
Belew, Kathleen. <em>Bring the War Home: The White Power Movement and Paramilitary America</em>. Cambridge, Mass.: Harvard University Press, 2018.
</div>
<div id="ref-bernsteinAtomicBombingsReconsidered1995" class="csl-entry" role="listitem">
Bernstein, Barton J. <span>“The Atomic Bombings, Reconsidered.”</span> <em>Foreign Affairs</em> 74, no. 1 (Jan.–Feb. 1995): 135--152.
</div>
<div id="ref-cha-juaLongMovementVampire2007" class="csl-entry" role="listitem">
Cha-Jua, Sundiata Keita, and Clarence Lang. <span>“The <span>‘Long Movement’</span> as Vampire: Temporal and Spatial Fallacies in Recent Black Freedom Studies.”</span> <em>Journal of African American History</em> 92, no. 2 (Spring 2007): 265--288.
</div>
<div id="ref-daviesNewDeal19402015" class="csl-entry" role="listitem">
Davies, Gareth. <span>“The New Deal in 1940: Embattled or Entrenched?”</span> In <em>America at the Ballot Box</em>, edited by Gareth Davies and Julian E. Zelizer, 153–66. Philadelphia: University of Pennsylvania Press, 2015.
</div>
<div id="ref-daviesBiggovernmentConservatismConservatives2008" class="csl-entry" role="listitem">
———. <span>“Towards Big-Government Conservatism: Conservatives and Federal Aid to Education in the 1970s.”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 621–35.
</div>
<div id="ref-gallicchioUnconditionalJapaneseSurrender2020" class="csl-entry" role="listitem">
Gallicchio, Marc. <em>Unconditional: The Japanese Surrender in World War II</em>. New York: Oxford University Press, 2020.
</div>
<div id="ref-grantGreatMigrationDemocratic2020" class="csl-entry" role="listitem">
Grant, Keneshia N. <em>The Great Migration and the Democratic Party: Black Voters and the Realignment of American Politics in the 20th Century</em>. Philadelphia: Temple University Press, 2020.
</div>
<div id="ref-guglielmoMartialFreedomMovement2018" class="csl-entry" role="listitem">
Guglielmo, Thomas A. <span>“A Martial Freedom Movement: Black G.I.s’ Political Struggles During World War II.”</span> <em>Journal of American History</em> 104, no. 4 (March 2018): 879--903.
</div>
<div id="ref-hallProtestMovements1970s2008" class="csl-entry" role="listitem">
Hall, Simon. <span>“Protest Movements in the 1970s: The Long 1960s.”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 655–72.
</div>
<div id="ref-hannsgenDidNewDeal2010" class="csl-entry" role="listitem">
Hannsgen, Greg, and Dimitri Papadimitriou. <span>“Did the New Deal Prolong or Worsen the Great Depression?”</span> <em>Challenge</em> 53, no. 1 (January 2010): 63–86.
</div>
<div id="ref-hasegawaTsuyoshiHasegawaVs2006" class="csl-entry" role="listitem">
Hasegawa, Tsuyoshi, and Sadao Asada. <span>“Tsuyoshi Hasegawa Vs. Sadao Asada: Debating Hiroshima.”</span> <em>History News Network</em>, June 6, 2006. <a href="https://historynewsnetwork.org/article/28318">https://historynewsnetwork.org/article/28318</a>.
</div>
<div id="ref-hausmanRecoveryGreatDepression2019" class="csl-entry" role="listitem">
Hausman, Joshua K., Paul W. Rhode, and Johannes F. Wieland. <span>“Recovery from the Great Depression: The Farm Channel in Spring 1933.”</span> <em>The American Economic Review</em> 109, no. 2 (2019): 427–72.
</div>
<div id="ref-jacobsCommentSwingingToo2008" class="csl-entry" role="listitem">
Jacobs, Meg, and Julian E. Zelizer. <span>“Comment: Swinging Too Far to the Left.”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 689–93.
</div>
<div id="ref-johnsonLavenderScareCold2004" class="csl-entry" role="listitem">
Johnson, David K. <em>The Lavender Scare: The Cold War Persecution of Gays and Lesbians in the Federal Government</em>. Chicago: University of Chicago Press, 2004.
</div>
<div id="ref-johnsonReformingJimCrow2010" class="csl-entry" role="listitem">
Johnson, Kimberley. <em>Reforming Jim Crow: Southern Politics and State in the Age Before Brown</em>. New York: Oxford University Press, 2010.
</div>
<div id="ref-katznelsonLimitingLiberalismSouthern1993" class="csl-entry" role="listitem">
Katznelson, Ira, Kim Geiger, and Daniel Kryder. <span>“Limiting Liberalism: The Southern Veto in Congress, 1933--1950.”</span> <em>Political Science Quarterly</em> 108, no. 2 (Summer 1993): 283--306.
</div>
<div id="ref-krautThreatDissentHistory2020" class="csl-entry" role="listitem">
Kraut, Julia Rose. <em>Threat of Dissent: A History of Ideological Exclusion and Deportation in the United States</em>. Cambridge, Mass.: Harvard University Press, 2020.
</div>
<div id="ref-leeAmericaAmericansHistory2019" class="csl-entry" role="listitem">
Lee, Erika. <em>America for Americans: A History of Xenophobia in the United States</em>. New York: Basic Books, 2019.
</div>
<div id="ref-leuchtenburgWhenPeopleSpoke1999" class="csl-entry" role="listitem">
Leuchtenburg, William E. <span>“When the People Spoke, What Did They Say?: The Election of 1936 and the Ackerman Thesis.”</span> <em>The Yale Law Journal</em> 108, no. 8 (June 1999): 2077--2114.
</div>
<div id="ref-mackenzieLiberalHourWashington2008" class="csl-entry" role="listitem">
MacKenzie, G. Calvin, and Robert Weisbrot. <em>The Liberal Hour: Washington and the Politics of Change</em>. New York: Penguin, 2008.
</div>
<div id="ref-mcgirrWarAlcoholProhibition2016" class="csl-entry" role="listitem">
McGirr, Lisa. <em>The War on Alcohol: Prohibition and the Rise of the American State</em>. New York: W.W. Norton &amp; Company, 2016.
</div>
<div id="ref-morganSwingTimeNew2022" class="csl-entry" role="listitem">
Morgan, Iwan. <span>“Swing Time: The New Deal Midterms of 1934 and 1938.”</span> In <em>Midterms and Mandates</em>, edited by Patrick Andelic, Mark McLay, and Robert Mason, 97–118. Edinburgh: Edinburgh University Press, 2022.
</div>
<div id="ref-olmstedConspiracyDenseDubious2018" class="csl-entry" role="listitem">
Olmsted, Kathryn. <span>“A Conspiracy So Dense: The Dubious Half-Life of Richard Hofstadter’s <span>‘Paranoid Style’</span>.”</span> <em>The Baffler</em> 42 (November–December 2018): 36--45.
</div>
<div id="ref-perlsteinCorrections2017" class="csl-entry" role="listitem">
Perlstein, Rick. <span>“The Corrections.”</span> <em>New York Times Magazine</em>, April 16, 2017.
</div>
<div id="ref-rauchwayNewDealWas2019" class="csl-entry" role="listitem">
Rauchway, Eric. <span>“The New Deal Was on the Ballot in 1932.”</span> <em>Modern American History</em> 2, no. 2 (July 2019): 201–13.
</div>
<div id="ref-schicklerNewDealLiberalism2013" class="csl-entry" role="listitem">
Schickler, Eric. <span>“New Deal Liberalism and Racial Liberalism in the Mass Public, 1937–1968.”</span> <em>Perspectives on Politics</em> 11, no. 1 (March 2013): 75–98.
</div>
<div id="ref-schreckerMcCarthyismPoliticalRepression2004" class="csl-entry" role="listitem">
Schrecker, Ellen. <span>“McCarthyism: Political Repression and the Fear of Communism.”</span> <em>Social Research</em> 71, no. 4 (Winter 2004): 1041--1086.
</div>
<div id="ref-schulmanCommentEmpireStrikes2008" class="csl-entry" role="listitem">
Schulman, Bruce J. <span>“Comment: The Empire Strikes Back—Conservative Responses to Progressive Social Movements in the 1970s.”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 695–700.
</div>
<div id="ref-serwerCrueltyPoint2018" class="csl-entry" role="listitem">
Serwer, Adam. <span>“The Cruelty Is the Point.”</span> <em>The Atlantic</em>, October 3, 2018. <a href="https://www.theatlantic.com/ideas/archive/2018/10/the-cruelty-is-the-point/572104/">https://www.theatlantic.com/ideas/archive/2018/10/the-cruelty-is-the-point/572104/</a>.
</div>
<div id="ref-sweetHistoryHistory2022" class="csl-entry" role="listitem">
Sweet, James H. <span>“Is History History?”</span> <em>Perspectives</em>, September 2022. <a href="https://www.historians.org/research-and-publications/perspectives-on-history/september-2022/is-history-history-identity-politics-and-teleologies-of-the-present">https://www.historians.org/research-and-publications/perspectives-on-history/september-2022/is-history-history-identity-politics-and-teleologies-of-the-present</a>.
</div>
<div id="ref-thurstonBoundariesHomeownershipCredit2018" class="csl-entry" role="listitem">
Thurston, Chloe N. <em>At the Boundaries of Homeownership: Credit, Discrimination, and the American State</em>. Cambridge, Eng.: Cambridge University Press, 2018.
</div>
<div id="ref-tuckIntroductionReconsidering1970s2008" class="csl-entry" role="listitem">
Tuck, Stephen. <span>“Introduction: Reconsidering the 1970s—The 1960s to a Disco Beat?”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 617–20.
</div>
<div id="ref-tuckWeAreTaking2008" class="csl-entry" role="listitem">
———. <span>“`We Are Taking Up Where the Movement of the 1960s Left Off’: The Proliferation and Power of African American Protest During the 1970s.”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 637–54.
</div>
<div id="ref-williamsGreatDepressionNew2018" class="csl-entry" role="listitem">
Williams, Mason B. <span>“The Great Depression and New Deal: A Historiographical Survey.”</span> In <em>The Routledge History of the Twentieth-Century United States</em>, edited by Jerald Podair and Darren Dochuk, 25--36. New York: Routledge, 2018.
</div>
<div id="ref-wilsonDestructiveCreationAmerican2016" class="csl-entry" role="listitem">
Wilson, Mark. <em>Destructive Creation: American Business and the Winning of World War II</em>. Philadelphia: University of Pennsylvania Press, 2016.
</div>
<div id="ref-zeitzRejectingCenterRadical2008" class="csl-entry" role="listitem">
Zeitz, J. <span>“Rejecting the Center: Radical Grassroots Politics in the 1970s—Second-Wave Feminism as a Case Study.”</span> <em>Journal of Contemporary History</em> 43, no. 4 (October 2008): 673–88.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>